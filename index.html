<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>POC formulaire Web</title>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.form.io/formiojs/formio.full.min.css"
		/>
    <link rel="stylesheet" href="https://hqdevformp01sa.blob.core.windows.net/css/HQForm.css" />
		<script src="https://cdn.form.io/formiojs/formio.full.min.js"></script>
    <script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
  crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>
	</head>
	<body>

    <div class="container">
      <div class="row">
        <div class="col-12">

          	<div id="formio"></div>
        </div>
      </div>
	
	</body>

	<script type="text/javascript">
		 window.onload = function () {
        Formio.createForm(document.getElementById("formio"), "https://devformioapi.hema-quebec.qc.ca/api-dev/csssample", {
          language: "en",
        }).then(function (form) {
          var languages = { en: true };
          window.setLanguage = function (lang) {
            if (languages[lang]) {
              return (form.language = lang);that 
            }

            Formio.fetch(
              "https://devformioapi.hema-quebec.qc.ca/api-dev/language/submission?data.language=" +
                lang
            )
              .then(function (resp) {
                return resp.json();
              })
              .then(function (result) {
                languages[lang] = true;
                form.addLanguage(lang, result[0]?.data.translations);
                form.language = lang;
              });
          };
        });
      };
	</script>
</html>
